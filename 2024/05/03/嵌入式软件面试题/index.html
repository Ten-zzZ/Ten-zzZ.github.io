<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>嵌入式面试题 | Ten-zzZ</title><meta name="keywords" content="嵌入式,面试"><meta name="author" content="Ten"><meta name="copyright" content="Ten"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="嵌入式面试题"><meta name="application-name" content="嵌入式面试题"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="嵌入式面试题"><meta property="og:url" content="http://example.com/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/index.html"><meta property="og:site_name" content="Ten-zzZ"><meta property="og:description" content="STM32I2C协议 I2C 使用两条线在主机和从机之间进行数据通信。一条是 SCL(串行时钟线)，另外一条是 SDA(串行数据线) 这两条数据线需要接上拉电阻，总线空闲的时候 SCL 和 SDA 处于高电平。 I2C 是支持多从机的，也就是一个 I2C 主机下可以挂多个 I2C 从设备，这些不同的"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://img2.imgtp.com/2024/05/05/HCN50noR.jpg"><meta property="article:author" content="Ten"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://img2.imgtp.com/2024/05/05/HCN50noR.jpg"><meta name="description" content="STM32I2C协议 I2C 使用两条线在主机和从机之间进行数据通信。一条是 SCL(串行时钟线)，另外一条是 SDA(串行数据线) 这两条数据线需要接上拉电阻，总线空闲的时候 SCL 和 SDA 处于高电平。 I2C 是支持多从机的，也就是一个 I2C 主机下可以挂多个 I2C 从设备，这些不同的"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: undefined,
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://github.com/anzhiyu-c/img2color-go","cover_change":true},
  authorStatus: {"skills":["🌐 浏览器里的探险家"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Ten","link":"链接: ","source":"来源: Ten-zzZ","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Ten-zzZ',
  title: '嵌入式面试题',
  postAI: '',
  pageFillDescription: 'STM32, I2C协议, UART, SPI, 时钟系统, 串口配置步骤, 介绍一下GPIO模式, STM32F1和F4的区别？, 单片机中断流程, 简述STM32的ADC系统的功能特性？, DMA, 简述一下STM32中断有哪些？, ARM v7的体系结构可以分为哪几个子版本（款式）分别应用在什么领域？, 你用过STM32有哪些型号?内部资源情况？, Systick滴答定时器, NVIC 中断优先级管理, 使用 IO 口外部中断的一般步骤, 定时器配置步骤, C语言, 程序的内存分配, 各类型占用字节大小, main函数的三个参数, sizeof与strlen, 回调函数, 全局变量和局部变量的区别, 结构体和联合体的区别, 指针函数和函数指针的区别, 常量和变量的区别, 指针自增自减与变量自增自减有什么区别？, include ltgt与include  区别, 头文件中的ifdefx2Fdefine endif的作用是什么？, 用define实现宏并求最大值与最小值, break语句与continue语句的区别, static与const关键字的区别, const与宏的区别, 指针和引用的区别, strcpy、sprint和memcpy的区别, 其他内容, 为什么CPU不能直接从硬盘读取数据却要先经过内存, CPU内部结构, 波特率是什么为什么双方波特率要相同高低波特率有什么区别, ROM、RAM的概念, 扇区、块、页、簇的概念协议使用两条线在主机和从机之间进行数据通信一条是串行时钟线另外一条是串行数据线这两条数据线需要接上拉电阻总线空闲的时候和处于高电平是支持多从机的也就是一个主机下可以挂多个从设备这些不同的从设备有不同的器件地址这样主控制器就可以通过设备的器件地址访问指定的起始位通信起始标志在为高电平期间由高变低出现下降沿停止位停止通信的标志位在位高电平期间由低变高出现上升沿数据传输低电平期间主机从机将数据位依次放到线上高位先行然后释放从机主机将在高电平期间读取数据位所以高电平期间不允许有数据变化依次循环上述过程次即可发送一个字节应答信号主机在发送完一个字节之后在下一个时钟接收一位数据判断从机是否应答数据表示应答数据表示非应答主机在接收之前需要释放写时序的具体步骤开始信号发送设备地址每个器件都有一个设备地址这是一个位的数据其中高位是设备地址最后位是读写位器件地址后面跟着一个读写位为表示写操作为表示读操作从机发送的应答信号重新发送开始信号发送要写入数据的寄存器地址从机发送的应答信号发送要写入寄存器的数据从机发送的应答信号停止信号读时序的具体步骤读取单字节开始信号主机发送要读取的从设备地址读写位从机应答重新发送开始信号主机发送要读取的寄存器地址读写位从机应答重新发送开始信号发送要读取的从设备地址读写位从机应答从器件里面读取到的数据高电平期间从读取数据主机发送非应答表示不再读取主机发出停止信号停止通信补充多字节读写时序有时候我们需要读写多个字节多字节读写时序和单字节的基本一致只是在读写数据的时候可以连续发送多个自己的数据其他的控制时序都是和单字节一样的仲裁机制允许多个主设备和多个从设备如果两个或两个以上的主设备同时向总线上发送启动信号并开始传送数据这样就形成了冲突要解决这种冲突就要进行仲裁的判决这就是总线上的仲裁总线上的仲裁分两部分线的同步和线的仲裁简单说它遵循低电平优先的原则即谁先发送低电平谁就会掌握对总线的控制权是一种串行异步全双工的通信协议空闲位数据线在空闲状态的时候为逻辑状态也就是高电平表示没有数据传输起始位逻辑表示起始位也就是低电平数据位数据帧的有效载荷为高电平为低电平低位先行校验位用于数据验证根据数据位计算得来有寄校验和偶校验停止位固定为高电平波特率波特率就是数据传输的速率也就是每秒传输的数据位数一般选择等电平标准数据和数据的表达方式电平或表示表示电平表示表示是一种高速全双工的同步通信总线时钟频率相比要高很多最高可以工作在上百以主从方式工作通常是有一个主设备和一个或多个从设备一般需要根线但是也可以使用三根线单向传输通信都是基于交换模型这个是片选信号线用于选择需要进行通信的从设备需要选择哪个从设备直接将链接该设备的片选信号拉低即可串行时钟和的一样为通信提供时钟简称主出从入信号线这根数据线只能用于主机向从机发送数据也就是主机输出从机输入简称主入从出信号线这根数据线只能用户从机向主机发送数据也就是主机输入从机输出通信都是由主机发起的主机需要提供通信的时钟信号主机通过线连接多个从设备的结构有四种工作模式通过串行时钟极性和相位的搭配来得到四种工作模式模式空闲状态时为低电平第一个边沿移入数据第二个边沿移出数据模式空闲状态时为低电平第一个边沿移出数据第二个边沿移入数据模式空闲状态时为高电平第一个边沿移入数据第二个边沿移出数据模式空闲状态时为高电平第一个边沿移出数据第二个边沿移入数据该如何确定使用哪种模式先确认从机需求的极性不工作时是在低电位还是高电位由此确认为或再由从机芯片数据手册中的时序图确认从机芯片是在的下降沿采集数据还是在的上升沿时钟系统在中有五个时钟源为是高速内部时钟振荡器频率为是高速外部时钟可接石英陶瓷谐振器或者接外部时钟源频率范围为是低速内部时钟振荡器频率为是低速外部时钟接频率为的石英晶体为锁相环倍频输出其时钟输入源可选择为或者倍频可选择为倍但是其输出频率最大不得超过串口配置步骤串口时钟使能时钟使能串口复位端口模式设置的工作模式为复用推挽输出的工作模式为浮空输入串口参数初始化包含波特率设置个数据位个停止位无奇偶校验位无硬件数据流控制收发模式开启中断并且初始化如果需要开启中断才需要这个步骤使能串口编写中断处理函数介绍一下模式模拟输入端口模拟信号电压信号非电平信号直接模拟输入到片上外设模块浮空输入上下拉电阻开关断开输入信号只经过施密特触发器进行滤波然后再被读出下拉输入与上拉相同只是把下拉为低电平上拉输入上拉就是将口上不确定的信号通过一个上拉电阻把上拉为高电平电阻同时起限流作用开漏输出管不工作只有管工作只能控制输出低电平推挽输出管和管都工作可以控制输出高电平和低电平复用开漏输出复用为其他外设输出数据寄存器无效输出的高低电平的来源于其它外设复用推挽输出复用为其他外设输出数据寄存器无效输出的高低电平的来源于其它外设的使用使能时钟寄存器设置工作模式设置输出状态总结浮空输入为了降低功耗上下拉钳位电平增强驱动电流增大抗干扰模拟输入就是模拟电信号如开漏输出通常情况下只能输出但是能完美的兼容不同外设电平复用开漏输出复用表示不在是普通而是具有特殊功能的比如等推挽输出是为了提高驱动能力和的区别内核不同是内核是内核主频不同主频主频浮点运算无浮点运算单位有功能性能外设比丰富且功能更强大比如翻转速率上下拉电阻配置精度等内存大小内部最大有单片机中断流程中断在正常执行程序的过程中由于内部外部事件的触发或程序的预先安排引起暂时中断当前正在运行的程序而转去执行中断服务程序待中断服务程序执行完毕后继续执行原来的程序这一过程称为中端中断的处理过程保护现场将当前位置的地址压栈跳转到中断服务程序执行中断服务程序恢复现场将栈顶的值回送给跳转到被中断的位置开始执行下一个指令中断服务函数中断服务函数不能传入参数中断服务函数不能有返回值中断服务函数应该做到短小精悍不要在中断函数中使用函数会带来重入和性能问题简述的系统的功能特性分辨率逐次逼近型自动校准可编程数据对齐转换结果支持左对齐或右对齐方式存储在位数据寄存器单次和连续转换模式直接存储器存取用来提供在外设和存储器之间或者存储器和存储器之间的高速数据传输无须干预数据可以通过快速地移动这就节省了的资源来做其他操作工作模式循环模式正常缓存模式简述一下中断有哪些外部中断定时器中断中断中断中断中断中断中断的体系结构可以分为哪几个子版本款式分别应用在什么领域三种系列面向密集型系统的应用处理器内核顶级主控在手机平板普遍应用移动设备芯片都是使用与和相对应都是可以跑操作系统系统的如等系列面向实时应用的高性能内核主要应用于对实时性较高的场合如硬盘控制器车载控制产品等系列面向各类嵌入式应用的微控制器内核相当于高级单片机主要应用工业消费领域与相似不能跑大操作系统只能跑类似实时操作系统你用过有哪些型号内部资源情况滴答定时器为一个位递减计数器设定初值并使能后每经过个系统时钟周期计数值就减计数到时计数器自动重装初值并继续计数同时内部的标志会置位触发中断如果中断使能情况下假设系统时钟为那么每增加就是注系统分频中断优先级管理内核支持个中断其中包含了个内核中断和个外部中断并且具有级的可编程中断设置但并没有使用内核的全部东西而是只用了它的一部分有个中断包括个内核中断和个可屏蔽中断具有级可编程的中断优先级而我们常用的就是这个可屏蔽中断但是的个可屏蔽中断在系列上面又只有个在系列才有个将中断分为个组组这里需要注意两点第一如果两个中断的抢占优先级和响应优先级都是一样的话则看哪个中断先发生就先执行第二高优先级的抢占优先级是可以打断正在进行的低抢占优先级中断的而抢占优先级相同的中断高优先级的响应优先级不可以打断低响应优先级的中断使用口外部中断的一般步骤初始化口为输入开启口复用时钟设置口与中断线的映射关系初始化线上中断设置触发条件等配置中断分组并使能中断编写中断服务函数定时器配置步骤使能定时器时钟调用函数初始化定时器配置调用函数开启定时器中断配置调用函数使能定时器调用函数编写中断服务函数调用函数语言程序的内存分配栈空间存放临时创建的局部变量存放函数调用的形参和返回值堆空间由程序员分配释放若程序员不释放结束时由回收数据段通常是指用来存放程序中已初始化的全局变量和静态变量以及字符串常量代码段通常是指用来存放程序执行代码的一块内存区域这部分区域的大小在程序运行前就已经确定各类型占用字节大小函数的三个参数一个整数表示命令行参数的个数至少为因为它包括程序本身的名称一个指向字符指针的数组每个元素指向一个字符串代表一个命令行参数通常是程序的名称字符指针数组通常用于设置环境变量与是一种基本运算符用于计算数据类型占用空间的字节大小是函数用于计算字符串的长度以作为终止符回调函数一个函数作为参数传递给另一个函数这个被传递的函数即回调函数并不立即执行而是在某个特定的时刻或条件下由接收它的函数来调用优点在主入口程序中把回调函数像参数一样传入库函数这样一来只要我们改变传进库函数的参数就可以实现不同的功能且不需要修改库函数的实现变的很灵活这就是解耦缺点如果程序中有非常多的回调函数会使得阅读代码困难全局变量和局部变量的区别作用域不同全局变量的作用域为整个程序局部变量的作用域为当前语句块内存储存方式全局变量存储在全局数据段局部变量存储在栈空间生命周期不同全局变量的生命周期和程序一样局部变量随着语句块的结束而结束当局部变量与全局变量同名时优先使用局部变量结构体和联合体的区别结构体和联合体都是由不同的数据类型组成但在任何时刻联合体只存在一个被选中的成员结构体所有成员都存在在结构体中各成员占有自己的储存空间总大小等于各成员的大小之和在联合体中所有成员公用一块储存空间其大小等于联合体中最大成员的大小指针函数和函数指针的区别指针函数是一个函数它的返回值是一个指针函数指针是一个指针这个指针指向的对象是一个函数常量和变量的区别常量是只读不可写变量可读可写常量必须初始化变量可以不初始化常量不可以寻址它的地址不可赋值非常量指针变量可以寻址常量的效率比变量高指针自增自减与变量自增自减有什么区别指针自增自减是改变指针所指向的对象变量自增自减是改变变量的值与区别用于包含系统库的头文件编译器会在预定义的系统头文件目录中查找这些文件用于包含用户自定义的头文件编译器会在当前源文件所在的目录中查找头文件头文件中的的作用是什么防止头文件被重复引用用实现宏并求最大值与最小值语句与语句的区别语句只能出现在循环语句内表示跳出本次循环语句还能出现在语句中表示结束语句出现在循环语句中表示跳出整个循环与关键字的区别修饰局部变量可以改变该变量的生命周期函数退出时不销毁该变量修饰全局变量使得这个全局变量只能在本源文件内使用不能在其他源文件内使用修饰函数表示这个函数只能在当前文件中被访问修饰常量用于声明不可修改的变量常量一旦赋予初始值就不能再次修改与宏的区别宏编译时不会检查编译时会检查宏的优点宏可以定义函数方法等不可以宏的缺点大量使用宏会导致预编译的时间过长指针和引用的区别引用类似与给变量取别名不会额外分配空间给这个引用指针存储的是中变量的内存空间地址指针需要占用空间指针可以指向引用必须要指向某个对象指针可以指向不同对象引用不能修改和的区别函数操作的对象是字符串完成从源字符串到目的字符串的拷贝可以将各种数据类型格式化为字符串并复制到指定的字符数组中函数是内存的拷贝实现将一个内存的内容复制到另一个内存块其他内容为什么不能直接从硬盘读取数据却要先经过内存不能直接从硬盘读取数据的原因是因为硬盘和之间存在着速度上的巨大差异硬盘是一种机械设备需要时间来旋转磁盘和移动读写头才能够读取或写入数据相比之下的处理速度非常快可以在纳秒级别内完成一次指令的执行因此如果直接从硬盘读取数据会导致的处理速度受到硬盘速度的限制从而大大降低系统的整体性能内部结构即中央处理器是一台计算机的运算核心和控制核心其功能主要是解释计算机指令以及处理计算机软件中的数据由运算器控制器寄存器高速缓存及实现它们之间联系的数据控制及状态的总线构成存储器分为外存和内存用于存储数据使用二进制方式存储输入设备用户给计算机发号施令的设备输出设备计算机个用户汇报结果的设备波特率是什么为什么双方波特率要相同高低波特率有什么区别通信中的波特率指的是每秒钟传输的比特数也就是通信速率在通信过程中波特率是指每秒传输的比特数如果双方的波特率不同那么发送方和接收方之间就会出现数据传输速率不匹配的问题具体来说如果发送方的波特率比接收方的波特率高那么发送方发送的数据可能会比接收方能够处理的速度更快导致数据丢失或传输错误如果发送方的波特率比接收方的波特率低那么接收方可能无法及时接收到所有的数据导致数据传输效率低下或者数据丢失高波特率意味着每秒传输的比特数更多数据传输速率更快高波特率下由于传输速率增加信号上升沿和下降沿变化更快导致传输距离较低波特率要受限一些的概念只读存储器优点容量大掉电不丢失缺点读取速度慢事实上只读定义不准确如手机的这里指的是指的是而这里的是如都可以进行写操作擦除发送要写地址或扇区写数据由于历史原因仍被称为随机存储器优点速度快直接与通信缺点掉电丢失容量小扇区块页簇的概念扇区硬盘的最小寻址单元像硬盘一样的外部存储设备的最小查找部分即拿硬盘的时候一次最少拿一个扇区块簇由于扇区的空间比较小且数目众多在寻址时比较困难所以操作系统就将多个的扇区组合在一起形成一个更大的单位再对这个单位进行整体的操作这个单位在下和文件系统中叫做簇在下如等文件系统中叫做块每个簇或者块可以包括的次方个扇区页对操作系统来说的最小基本单元综上所述文件读取时的最小单位是块扇区是对硬盘而言磁盘块是对文件系统而言所以文件系统操作文件的最小单位是块而磁盘的基本单位是扇区而操作系统与内存打交道时才有了页的概念因为如果采用内存的分页机制内存被分为大小为的页面也是一种虚拟单位综上操作系统操作内存是以页为基本单位文件系统操作磁盘是以块为基本单位而磁盘自身读写是以扇区为基本单位',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-13 13:13:44',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://img2.imgtp.com/2024/04/29/XJZajStb.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Ten-zzZ</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://img2.imgtp.com/2024/04/29/ZLUmR1ch.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://img2.imgtp.com/2024/04/29/ZLUmR1ch.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://img2.imgtp.com/2024/04/29/jhBLTmH3.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://img2.imgtp.com/2024/04/29/jhBLTmH3.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/FreeRTOS/" style="font-size: 1.05rem;">FreeRTOS<sup>1</sup></a><a href="/tags/STM32/" style="font-size: 1.05rem;">STM32<sup>2</sup></a><a href="/tags/linux/" style="font-size: 1.05rem;">linux<sup>8</sup></a><a href="/tags/%E5%8D%95%E7%89%87%E6%9C%BA/" style="font-size: 1.05rem;">单片机<sup>2</sup></a><a href="/tags/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/" style="font-size: 1.05rem;">实战项目<sup>1</sup></a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 1.05rem;">嵌入式<sup>3</sup></a><a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size: 1.05rem;">线程<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 1.05rem;">网络编程<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">设计模式<sup>1</sup></a><a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 1.05rem;">进程<sup>2</sup></a><a href="/tags/%E9%80%9A%E4%BF%A1/" style="font-size: 1.05rem;">通信<sup>1</sup></a><a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 1.05rem;">随笔<sup>2</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.05rem;">面试<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url">其他</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>嵌入式</span></a><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>面试</span></a></span></div></div><h1 class="post-title" itemprop="name headline">嵌入式面试题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-05-03T02:49:31.000Z" title="发表于 2024-05-03 10:49:31">2024-05-03</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-05-13T05:13:44.838Z" title="更新于 2024-05-13 13:13:44">2024-05-13</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">6.2k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>19分钟</span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为新余"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>新余</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://img2.imgtp.com/2024/05/05/HCN50noR.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/"><header><a class="post-meta-categories" href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url">其他</a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" tabindex="-1" itemprop="url">嵌入式</a><a href="/tags/%E9%9D%A2%E8%AF%95/" tabindex="-1" itemprop="url">面试</a><h1 id="CrawlerTitle" itemprop="name headline">嵌入式面试题</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Ten</span><time itemprop="dateCreated datePublished" datetime="2024-05-03T02:49:31.000Z" title="发表于 2024-05-03 10:49:31">2024-05-03</time><time itemprop="dateCreated datePublished" datetime="2024-05-13T05:13:44.838Z" title="更新于 2024-05-13 13:13:44">2024-05-13</time></header><h1 id="STM32"><a href="#STM32" class="headerlink" title="STM32"></a>STM32</h1><h2 id="I2C协议"><a href="#I2C协议" class="headerlink" title="I2C协议"></a>I2C协议</h2><ol>
<li>I2C 使用两条线在主机和从机之间进行数据通信。一条是 SCL(串行时钟线)，另外一条是 SDA(串行数据线)</li>
<li>这两条数据线需要接上拉电阻，总线空闲的时候 SCL 和 SDA 处于高电平。</li>
<li>I2C 是支持多从机的，也就是一个 I2C 主机下可以挂多个 I2C 从设备，这些不同的 I2C 从设备有不同的器件地址，这样 I2C 主控制器就可以通过 I2C 设备的器件地址访问指定的 I2C。</li>
</ol>
<p><strong>起始位</strong></p>
<p>I2C 通信起始标志，在 SCL 为高电平期间，SDA 由高变低（出现下降沿）</p>
<p><strong>停止位</strong></p>
<p>停止 I2C 通信的标志位，在 SCL 位高电平期间，SDA由低变高（出现上升沿）</p>
<p><strong>数据传输</strong></p>
<p>SCL低电平期间，主机&#x2F;从机将数据位依次放到SDA线上（高位先行），然后释放SCL，从机&#x2F;主机将在SCL高电平期间读取数据位，所以SCL高电平期间SDA不允许有数据变化，依次循环上述过程8次，即可发送一个字节。</p>
<p><strong>应答信号</strong></p>
<p>主机在发送完一个字节之后，在下一个时钟接收一位数据，判断从机是否应答，数据0表示应答，数据1表示非应答（主机在接收之前，需要释放SDA）</p>
<p><strong>写时序的具体步骤：</strong></p>
<ol>
<li>开始信号</li>
<li>发送 I2C <code>设备地址</code>，每个 I2C 器件都有一个设备地址，这是一个 8 位的数据，其中高 7 位是设备地址，最后 1 位是读写位； </li>
<li>I2C 器件地址后面跟着一个读写位，为 0 表示写操作，为 1 表示读操作。</li>
<li>从机发送的 ACK 应答信号。</li>
<li>重新发送开始信号。</li>
<li>发送要写入数据的<code>寄存器</code>地址。</li>
<li>从机发送的 ACK 应答信号。</li>
<li>发送要写入寄存器的数据。 </li>
<li>从机发送的 ACK 应答信号。</li>
<li>停止信号。</li>
</ol>
<p><strong>读时序的具体步骤：</strong>读取单字节</p>
<ol>
<li>开始信号</li>
<li>主机发送要读取的 I2C 从设备地址+读写位。</li>
<li>从机应答</li>
<li>重新发送开始信号</li>
<li>主机发送要读取的寄存器地址+读写位。</li>
<li>从机应答</li>
<li>重新发送开始信号</li>
<li>发送要读取的 I2C 从设备地址+读写位。</li>
<li>从机应答</li>
<li>从 I2C 器件里面读取到的数据。SCL高电平期间从SDA读取数据</li>
<li>主机发送非应答，表示不再读取</li>
<li>主机发出停止信号，停止 I2C 通信。</li>
</ol>
<p><code>补充</code>:I2C 多字节读写时序有时候我们需要读写多个字节，多字节读写时序和单字节的基本一致，只是在读写数据的时候可以连续发送多个自己的数据，其他的控制时序都是和单字节一样的。</p>
<p><strong>I2C仲裁机制</strong></p>
<p>I2C 允许多个主设备和多个从设备。如果两个或两个以上的主设备同时向总线上发送启动信号并开始传送数据，这样就形成了冲突。要解决这种冲突，就要进行仲裁的判决，这就是 I2C 总线上的仲裁。</p>
<p>I2C总线上的仲裁分两部分：SCL线的同步和SDA线的仲裁。简单说，它遵循“低电平优先”的原则，即谁先发送低电平谁就会掌握对总线的控制权。</p>
<h2 id="UART"><a href="#UART" class="headerlink" title="UART"></a>UART</h2><p>UART，是一种串行、异步、全双工的通信协议。</p>
<p><strong>空闲位：</strong></p>
<p>数据线在空闲状态的时候为逻辑“1”状态，也就是高电平，表示没有数据传输。</p>
<p><strong>起始位：</strong></p>
<p>逻辑“0”表示起始位，也就是低电平。</p>
<p><strong>数据位：</strong></p>
<p>数据帧的有效载荷，1为高电平，0为低电平，低位先行。</p>
<p><strong>校验位：</strong></p>
<p>用于数据验证，根据数据位计算得来，有寄校验和偶校验</p>
<p><strong>停止位：</strong></p>
<p>固定为高电平</p>
<p><strong>波特率：</strong></p>
<p>波特率就是 UART 数据传输的速率，也就是每秒传输的数据位数，一般选择 9600、19200、115200 等。</p>
<p><strong>电平标准：</strong>数据1和数据0的表达方式。</p>
<p>TTL电平：+3.3V或+5V表示1，0V表示0</p>
<p>RS232电平：-3<del>-15V表示1，+3</del>+15V表示0</p>
<h2 id="SPI"><a href="#SPI" class="headerlink" title="SPI"></a>SPI</h2><p>SPI是一种高速、全双工的同步通信总线，SPI 时钟频率相比 I2C 要高很多，最高可以工作在上百 MHz。SPI 以主从方式工作，通常是有一个主设备和一个或多个从设备，一般 SPI 需要 4 根线，但是也可以使用三根线(单向传输)。SPI通信都是基于交换模型。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../imgs/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/image-20240507091534554.png" alt="image-20240507091534554"></p>
<ol>
<li>CS&#x2F;SS，这个是片选信号线，用于选择需要进行通信的从设备。需要选择哪个从设备，直接将链接该设备的片选信号拉低即可。</li>
<li>SCK，串行时钟，和 I2C 的 SCL 一样，为 SPI 通信提供时钟。 </li>
<li>MOSI&#x2F;SDO，简称主出从入信号线，这根数据线 只能用于主机向从机发送数据，也就是主机输出，从机输入。</li>
<li>MISO&#x2F;SDI，，简称主入从出信号线，这根数据线只能用户从机向主机发送数据，也就是主机输入，从机输出。</li>
</ol>
<p>SPI 通信都是由主机发起的，主机需要提供通信的时钟信号。主机通过 SPI 线连接多个从设备的结构。</p>
<p>SPI 有四种工作模式，通过串行时钟极性(CPOL)和相位(CPHA)的搭配来得到四种工作模式：</p>
<ol>
<li><p>模式0：</p>
<p>CPOL&#x3D;0：空闲状态时，SCK为低电平</p>
<p>CPHA&#x3D;0：SCK第一个边沿移入数据，第二个边沿移出数据</p>
</li>
<li><p>模式1：</p>
<p>CPOL&#x3D;0：空闲状态时，SCK为低电平</p>
<p>CPHA&#x3D;1：SCK第一个边沿移出数据，第二个边沿移入数据</p>
</li>
<li><p>模式2：</p>
<p>CPOL&#x3D;1：空闲状态时，SCK为高电平</p>
<p>CPHA&#x3D;0：SCK第一个边沿移入数据，第二个边沿移出数据</p>
</li>
<li><p>模式3：</p>
<p>CPOL&#x3D;1：空闲状态时，SCK为高电平</p>
<p>CPHA&#x3D;1：SCK第一个边沿移出数据，第二个边沿移入数据</p>
</li>
</ol>
<p><strong>该如何确定使用哪种SPI模式？</strong></p>
<p>（1）先确认从机需求的 SCK 极性，不工作时是在低电位还是高电位，由此确认 CPOL 为 0 或 1。</p>
<p>（2）再由从机芯片数据手册中的时序图确认 从机芯片是在 SCLK 的下降沿采集数据，还是在SCLK的上升沿。</p>
<h2 id="时钟系统"><a href="#时钟系统" class="headerlink" title="时钟系统"></a>时钟系统</h2><p>在STM32中，有五个时钟源，为HSI、HSE、LSI、LSE、PLL。<br>①、HSI是高速内部时钟，RC振荡器，频率为8MHz。<br>②、HSE是高速外部时钟，可接石英&#x2F;陶瓷谐振器，或者接外部时钟源，频率范围为4MHz<del>16MHz。<br>③、LSI是低速内部时钟，RC振荡器，频率为40kHz。<br>④、LSE是低速外部时钟，接频率为32.768kHz的石英晶体。<br>⑤、PLL为锁相环倍频输出，其时钟输入源可选择为HSI&#x2F;2、HSE或者HSE&#x2F;2。倍频可选择为2</del>16倍，但是其输出频率最大不得超过72MHz。</p>
<h2 id="串口配置步骤"><a href="#串口配置步骤" class="headerlink" title="串口配置步骤"></a>串口配置步骤</h2><p>（1）串口时钟使能，GPIO时钟使能<br>        （2）串口复位<br>        （3）GPIO端口模式设置</p>
<p>​		TX的GPIO工作模式为：GPIO_Mode_AF_PP;&#x2F;&#x2F;复用推挽输出<br>​				RX的GPIO工作模式为：GPIO_Mode_IN_FLOATING;&#x2F;&#x2F;浮空输入</p>
<p>（4）串口参数初始化，包含：波特率设置（115200）、8个数据位、1个停止位、无奇偶校验位、无硬件数据流控制、收发模式。<br>        （5）开启中断并且初始化NVIC（如果需要开启中断才需要这个步骤）<br>        （6）使能串口<br>        （7）编写中断处理函数</p>
<h2 id="介绍一下GPIO模式"><a href="#介绍一下GPIO模式" class="headerlink" title="介绍一下GPIO模式"></a>介绍一下GPIO模式</h2><ol>
<li>GPIO_MODE_AIN 模拟输入：I&#x2F;O端口模拟信号（电压信号，非电平信号）直接模拟输入到片上外设模块。</li>
<li>GPIO_MODE_IN_FLOATING 浮空输入：上下拉电阻开关断开，输入信号只经过施密特触发器进行滤波，然后再被读出。</li>
<li>GPIO_MODE_IPD 下拉输入：与上拉相同，只是把IO下拉为低电平。</li>
<li>GPIO_MODE_IPU 上拉输入：上拉就是将IO口上不确定的信号通过一个上拉电阻把IO上拉为高电平。电阻同时起限流作用。</li>
<li>GPIO-MODE_OUT_OD 开漏输出： P-MOS管不工作，只有N-MOS管工作，MCU只能控制输出低电平。</li>
<li>GPIO_MODE_OUT_PP 推挽输出：P-MOS管和N-MOS管都工作，MCU可以控制输出高电平和低电平。</li>
<li>GPIO_MODE_AF_OD 复用开漏输出： GPIO复用为其他外设，输出数据寄存器GPIOx_ODR无效， 输出的高低电平的来源于其它外设。</li>
<li>GOIO_MODE_AF_PP 复用推挽输出：GPIO复用为其他外设，输出数据寄存器GPIOx_ODR无效， 输出的高低电平的来源于其它外设。</li>
</ol>
<p><strong>GPIO的使用</strong></p>
<p>1.使能时钟：RCC APB2RSTR寄存器 HAL_RCC_GPIOC_CLK ENABLE（）；<br>        2.设置工作模式；<br>        3.设置输出状态：ODR，BSRR。</p>
<p><strong>总结：</strong></p>
<p>浮空输入：为了降低功耗；<br>        上下拉：钳位电平，增强驱动（电流增大），抗干扰；<br>        模拟输入就是模拟电信号，如ADC；<br>        开漏输出：通常情况下只能输出0，但是能完美的兼容不同外设电平；<br>        复用开漏输出：复用表示IO不在是普通IO，而是具有特殊功能的IO，比如SPI，UART等；<br>        推挽输出：是为了提高驱动能力。</p>
<h2 id="STM32F1和F4的区别？"><a href="#STM32F1和F4的区别？" class="headerlink" title="STM32F1和F4的区别？"></a>STM32F1和F4的区别？</h2><p>内核不同：F1是Cortex-M3内核，F4是Cortex-M4内核；<br>        主频不同：F1主频72MHz，F4主频168MHz；<br>        浮点运算：F1无浮点运算单位，F4有；<br>        功能性能：F4外设比F1丰富且功能更强大，比如GPIO翻转速率、上下拉电阻配置、ADC精度等；<br>        内存大小：F1内部SRAM最大64K，F4有192K(112+64+16)。</p>
<h2 id="单片机中断流程"><a href="#单片机中断流程" class="headerlink" title="单片机中断流程"></a>单片机中断流程</h2><p><strong>中断：</strong>CPU在正常执行程序的过程中，由于内部&#x2F;外部事件的触发或程序的预先安排引起CPU暂时中断当前正在运行的程序，而转去执行中断服务程序，待中断服务程序执行完毕后，CPU继续执行原来的程序，这一过程称为中端。</p>
<p><strong>中断的处理过程：</strong></p>
<ol>
<li>保护现场，将当前位置的PC地址压栈；</li>
<li>跳转到中断服务程序，执行中断服务程序；</li>
<li>恢复现场，将栈顶的值回送给PC;</li>
<li>跳转到被中断的位置开始执行下一个指令</li>
</ol>
<p><strong>中断服务函数：</strong></p>
<ol>
<li>中断服务函数不能传入参数。</li>
<li>中断服务函数不能有返回值。</li>
<li>中断服务函数应该做到短小精悍。</li>
<li>不要在中断函数中使用printf函数，会带来重入和性能问题。</li>
</ol>
<h2 id="简述STM32的ADC系统的功能特性？"><a href="#简述STM32的ADC系统的功能特性？" class="headerlink" title="简述STM32的ADC系统的功能特性？"></a><strong>简述STM32的ADC系统的功能特性？</strong></h2><ol>
<li>12bit分辨率，逐次逼近型</li>
<li>自动校准</li>
<li>可编程数据对齐（转换结果支持左对齐或右对齐方式存储在16位数据寄存器）</li>
<li>单次和连续转换模式</li>
</ol>
<h2 id="DMA"><a href="#DMA" class="headerlink" title="DMA"></a>DMA</h2><p>直接存储器存取(DMA) 用来提供在外设和存储器之间或者存储器和存储器之间的高速数据传输。无须CPU干预，数据可以通过DMA快速地移动，这就节省了CPU的资源来做其他操作。</p>
<p><strong>工作模式：</strong>循环模式，正常缓存模式</p>
<h2 id="简述一下STM32中断有哪些？"><a href="#简述一下STM32中断有哪些？" class="headerlink" title="简述一下STM32中断有哪些？"></a>简述一下STM32中断有哪些？</h2><p>外部中断、定时器中断、DMA中断、UART中断、SPI中断、I2C中断、USB中断、ADC中断。</p>
<h3 id="ARM-v7的体系结构可以分为哪几个子版本（款式），分别应用在什么领域？"><a href="#ARM-v7的体系结构可以分为哪几个子版本（款式），分别应用在什么领域？" class="headerlink" title="ARM v7的体系结构可以分为哪几个子版本（款式），分别应用在什么领域？"></a>ARM v7的体系结构可以分为哪几个子版本（款式），分别应用在什么领域？</h3><p>A,R,M三种。</p>
<ul>
<li>Contex-A系列面向密集型系统的应用处理器内核。顶级主控，在手机，平板，GPS普遍应用，移动设备芯片90%都是使用arm。与arm9和arm11相对应，都是可以跑操作系统系统的如linux等。</li>
<li>Contex-R系列面向实时应用的高性能内核。主要应用于对实时性较高的场合，如硬盘控制器、车载控制产品等。</li>
<li>Contex-M系列面向各类嵌入式应用的微控制器内核(相当于高级单片机)。主要应用工业、消费领域。与arm7相似，不能跑大操作系统（只能跑类似uCos2实时操作系统）</li>
</ul>
<h2 id="你用过STM32有哪些型号-内部资源情况？"><a href="#你用过STM32有哪些型号-内部资源情况？" class="headerlink" title="你用过STM32有哪些型号?内部资源情况？"></a>你用过STM32有哪些型号?内部资源情况？</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../imgs/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/image-20240513124417604.png" alt="image-20240513124417604"></p>
<h2 id="Systick滴答定时器"><a href="#Systick滴答定时器" class="headerlink" title="Systick滴答定时器"></a>Systick滴答定时器</h2><p>SysTick 为一个 24 位递减计数器，SysTick 设定初值并使能后，每经过 1 个系统时钟周期，计数值就减 1。计数到 0 时，SysTick 计数器自动重装初值并继续计数，同时内部的COUNTFLAG 标志会置位，触发中断 (如果中断使能情况下)。</p>
<p>假设系统时钟为 72Mhz，那么 SysTick 每增加 1，就是 1&#x2F;9us。注：系统72MHz 8分频。</p>
<h2 id="NVIC-中断优先级管理"><a href="#NVIC-中断优先级管理" class="headerlink" title="NVIC 中断优先级管理"></a>NVIC 中断优先级管理</h2><p>CM3 内核支持 256 个中断，其中包含了 16 个内核中断和 240 个外部中断，并且具有 256级的可编程中断设置。但 STM32 并没有使用 CM3 内核的全部东西，而是只用了它的一部分。STM32 有 84 个中断，包括 16 个内核中断和 68 个可屏蔽中断，具有 16 级可编程的中断优先级。而我们常用的就是这 68 个可屏蔽中断，但是 STM32 的 68 个可屏蔽中断，在 STM32F103 系列上面，又只有 60 个（在 107 系列才有 68 个）。</p>
<p>STM32 将中断分为 5 个组，组 0~4。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../imgs/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/image-20240513124719770.png" alt="image-20240513124719770"></p>
<p> 这里需要注意两点：</p>
<p>第一，如果两个中断的抢占优先级和响应优先级都是一样的话，则看哪个中断先发生就先执行；</p>
<p>第二，高优先级的抢占优先级是可以打断正在进行的低抢占优先级中断的。而抢占优先级相同的中断，高优先级的响应优先级不可以打断低响应优先级的中断。</p>
<h2 id="使用-IO-口外部中断的一般步骤"><a href="#使用-IO-口外部中断的一般步骤" class="headerlink" title="使用 IO 口外部中断的一般步骤"></a>使用 IO 口外部中断的一般步骤</h2><p>1.初始化 IO 口为输入。<br>        2.开启 IO 口复用时钟，设置 IO 口与中断线的映射关系。<br>        3.初始化线上中断(EXTI)，设置触发条件等。<br>        4.配置中断分组(NVIC)，并使能中断。<br>        5.编写中断服务函数。</p>
<h2 id="定时器配置步骤"><a href="#定时器配置步骤" class="headerlink" title="定时器配置步骤"></a>定时器配置步骤</h2><p>1.使能定时器时钟。调用函数：RCC_APB1PeriphClockCmd()；<br>        2.初始化定时器，配置ARR、PSC。调用函数：TIM_TimeBaseInit()；<br>        3.开启定时器中断，配置NVIC。调用函数：void TIM_ITConfig()；NVIC_Init()；<br>        4.使能定时器。调用函数：TIM_Cmd()；<br>        5.编写中断服务函数。调用函数：TIMx_IRQHandler()。</p>
<h1 id="C语言"><a href="#C语言" class="headerlink" title="C语言"></a>C语言</h1><h2 id="程序的内存分配"><a href="#程序的内存分配" class="headerlink" title="程序的内存分配"></a>程序的内存分配</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../imgs/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/image-20240507091724963.png" alt="image-20240507091724963"></p>
<p><strong>栈空间：</strong>存放临时创建的局部变量，存放函数调用的形参和返回值；</p>
<p><strong>堆空间：</strong>由程序员分配释放，若程序员不释放，结束时由OS回收。</p>
<p><strong>数据段：</strong>通常是指用来存放程序中已初始化的全局变量和静态变量以及字符串常量。</p>
<p><strong>代码段：</strong>通常是指用来存放程序执行代码的一块内存区域，这部分区域的大小在程序运行前就已经确定。</p>
<h2 id="各类型占用字节大小"><a href="#各类型占用字节大小" class="headerlink" title="各类型占用字节大小"></a>各类型占用字节大小</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../imgs/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/image-20240507092419177.png" alt="image-20240507092419177"></p>
<h2 id="main函数的三个参数"><a href="#main函数的三个参数" class="headerlink" title="main函数的三个参数"></a>main函数的三个参数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[], <span class="type">char</span>* env[])</span></span><br></pre></td></tr></table></figure>

<ul>
<li>argc： 一个整数，表示命令行参数的个数。<code>argc</code>至少为1，因为它包括程序本身的名称。</li>
<li>argv： 一个指向字符指针的数组，每个元素指向一个字符串，代表一个命令行参数。argv[0]通常是程序的名称。</li>
<li>env：字符指针数组，通常用于设置环境变量。</li>
</ul>
<h2 id="sizeof与strlen"><a href="#sizeof与strlen" class="headerlink" title="sizeof与strlen"></a><strong>sizeof与strlen</strong></h2><p><strong>sizeof：</strong>是一种基本运算符，用于计算数据类型占用空间的字节大小。</p>
<p><strong>strlen：</strong>是函数，用于计算字符串的长度，以’&#x2F;0‘作为终止符。</p>
<h2 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h2><p>一个函数作为参数传递给另一个函数。这个被传递的函数（即回调函数）并不立即执行，而是在某个特定的时刻或条件下，由接收它的函数来调用。</p>
<p><strong>优点：</strong></p>
<p>在主入口程序中，把回调函数像参数一样传入库函数。这样一来，只要我们改变传进库函数的参数，就可以实现不同的功能，且不需要修改库函数的实现，变的很灵活，这就是解耦。</p>
<p><strong>缺点：</strong></p>
<p>如果程序中有非常多的回调函数，会使得阅读代码困难。</p>
<h2 id="全局变量和局部变量的区别"><a href="#全局变量和局部变量的区别" class="headerlink" title="全局变量和局部变量的区别"></a>全局变量和局部变量的区别</h2><ol>
<li>作用域不同：全局变量的作用域为整个程序，局部变量的作用域为当前语句块；</li>
<li>内存储存方式：全局变量存储在全局数据段，局部变量存储在栈空间；</li>
<li>生命周期不同：全局变量的生命周期和程序一样，局部变量随着语句块的结束而结束；</li>
<li>当局部变量与全局变量同名时，优先使用局部变量;</li>
</ol>
<h2 id="结构体和联合体的区别"><a href="#结构体和联合体的区别" class="headerlink" title="结构体和联合体的区别"></a>结构体和联合体的区别</h2><ol>
<li>结构体和联合体都是由不同的数据类型组成，但在任何时刻，联合体只存在一个被选中的成员，结构体所有成员都存在。</li>
<li>在结构体中，各成员占有自己的储存空间，总大小等于各成员的大小之和</li>
<li>在联合体中，所有成员公用一块储存空间，其大小等于联合体中最大成员的大小</li>
</ol>
<h2 id="指针函数和函数指针的区别"><a href="#指针函数和函数指针的区别" class="headerlink" title="指针函数和函数指针的区别"></a>指针函数和函数指针的区别</h2><p><strong>指针函数：</strong>是一个函数，它的返回值是一个指针。</p>
<p><strong>函数指针：</strong>是一个指针，这个指针指向的对象是一个函数。</p>
<h2 id="常量和变量的区别"><a href="#常量和变量的区别" class="headerlink" title="常量和变量的区别"></a>常量和变量的区别</h2><ol>
<li>常量是只读不可写，变量可读可写，</li>
<li>常量必须初始化，变量可以不初始化；</li>
<li>常量不可以寻址，它的地址不可赋值非常量指针；变量可以寻址，常量的效率比变量高。</li>
</ol>
<h2 id="指针自增自减与变量自增自减有什么区别？"><a href="#指针自增自减与变量自增自减有什么区别？" class="headerlink" title="指针自增自减与变量自增自减有什么区别？"></a>指针自增自减与变量自增自减有什么区别？</h2><p>指针自增自减是改变指针所指向的对象，变量自增自减是改变变量的值；</p>
<h2 id="include-与-include-”-“区别"><a href="#include-与-include-”-“区别" class="headerlink" title="#include &lt;&gt;与#include ” “区别"></a>#include &lt;&gt;与#include ” “区别</h2><p><strong>&lt;&gt;：</strong>用于包含系统库的头文件。编译器会在预定义的系统头文件目录中查找这些文件。</p>
<p><strong>” “：</strong>用于包含用户自定义的头文件，编译器会在当前源文件所在的目录中查找头文件。</p>
<h2 id="头文件中的ifdef-define-endif的作用是什么？"><a href="#头文件中的ifdef-define-endif的作用是什么？" class="headerlink" title="头文件中的ifdef&#x2F;define endif的作用是什么？"></a>头文件中的ifdef&#x2F;define endif的作用是什么？</h2><p>防止头文件被重复引用</p>
<h2 id="用-define实现宏并求最大值与最小值"><a href="#用-define实现宏并求最大值与最小值" class="headerlink" title="用#define实现宏并求最大值与最小值"></a>用#define实现宏并求最大值与最小值</h2><p>#define MAX(X,Y) ((X)&gt;(Y)?(X):(Y))</p>
<p>#define MIN(X,Y) ((X)&lt;(Y)?(X):(Y))</p>
<h2 id="break语句与continue语句的区别"><a href="#break语句与continue语句的区别" class="headerlink" title="break语句与continue语句的区别"></a>break语句与continue语句的区别</h2><p>continue语句只能出现在循环语句内，表示跳出本次循环；</p>
<p>break语句还能出现在switch语句中，表示结束switch语句，出现在循环语句中，表示跳出整个循环。</p>
<h2 id="static与const关键字的区别"><a href="#static与const关键字的区别" class="headerlink" title="static与const关键字的区别"></a>static与const关键字的区别</h2><p><strong>static：</strong></p>
<ol>
<li>修饰局部变量：可以改变该变量的生命周期，函数退出时不销毁该变量</li>
<li>修饰全局变量：使得这个全局变量只能在本源文件内使用，不能在其他源文件内使用</li>
<li>修饰函数：表示这个函数只能在当前文件中被访问。</li>
</ol>
<p>const：</p>
<ol>
<li>修饰常量：用于声明不可修改的变量（常量）。一旦赋予初始值，就不能再次修改。</li>
</ol>
<h2 id="const与宏的区别"><a href="#const与宏的区别" class="headerlink" title="const与宏的区别"></a>const与宏的区别</h2><ol>
<li>宏（#define）编译时不会检查，const编译时会检查。</li>
<li>宏的优点：宏可以定义函数、方法等，const不可以。</li>
<li>宏的缺点：大量使用宏，会导致预编译的时间过长</li>
</ol>
<h2 id="指针和引用的区别"><a href="#指针和引用的区别" class="headerlink" title="指针和引用的区别"></a>指针和引用的区别</h2><ol>
<li>引用类似与给变量取别名，不会额外分配空间给这个引用</li>
<li>指针存储的是中变量的内存空间地址，指针需要占用空间</li>
<li>指针可以指向NULL，引用必须要指向某个对象</li>
<li>指针可以指向不同对象，引用不能修改。</li>
</ol>
<h2 id="strcpy、sprint和memcpy的区别"><a href="#strcpy、sprint和memcpy的区别" class="headerlink" title="strcpy、sprint和memcpy的区别"></a>strcpy、sprint和memcpy的区别</h2><p><strong>strcpy：</strong>函数操作的对象是字符串，完成从源字符串到目的字符串的拷贝</p>
<p><strong>sprint：</strong>可以将各种数据类型格式化为字符串，并复制到指定的字符数组中。</p>
<p><strong>memcpy：</strong>函数是内存的拷贝，实现将一个内存的内容复制到另一个内存块。</p>
<h1 id="其他内容"><a href="#其他内容" class="headerlink" title="其他内容"></a>其他内容</h1><h2 id="为什么CPU不能直接从硬盘读取数据，却要先经过内存"><a href="#为什么CPU不能直接从硬盘读取数据，却要先经过内存" class="headerlink" title="为什么CPU不能直接从硬盘读取数据，却要先经过内存"></a>为什么CPU不能直接从硬盘读取数据，却要先经过内存</h2><p>CPU 不能直接从硬盘读取数据的原因是因为硬盘和 CPU 之间存在着速度上的巨大差异。硬盘是一种机械设备，需要时间来旋转磁盘和移动读写头，才能够读取或写入数据。相比之下，CPU 的处理速度非常快，可以在纳秒级别内完成一次指令的执行。因此，如果 CPU 直接从硬盘读取数据，会导致 CPU 的处理速度受到硬盘速度的限制，从而大大降低系统的整体性能。</p>
<h2 id="CPU内部结构"><a href="#CPU内部结构" class="headerlink" title="CPU内部结构"></a>CPU内部结构</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../imgs/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/image-20240513125231216.png" alt="image-20240513125231216"><strong>CPU：</strong>即中央处理器，是一台计算机的运算核心和控制核心。其功能主要是解释计算机指令以及处理计算机软件中的数据。CPU由运算器、控制器、寄存器、高速缓存及实现它们之间联系的数据、控制及状态的总线构成；<br><strong>存储器：</strong>分为外存和内存, 用于存储数据(使用二进制方式存储)；<br><strong>输入设备：</strong>用户给计算机发号施令的设备；<br><strong>输出设备：</strong>计算机个用户汇报结果的设备。</p>
<h2 id="波特率是什么，为什么双方波特率要相同，高低波特率有什么区别"><a href="#波特率是什么，为什么双方波特率要相同，高低波特率有什么区别" class="headerlink" title="波特率是什么，为什么双方波特率要相同，高低波特率有什么区别"></a>波特率是什么，为什么双方波特率要相同，高低波特率有什么区别</h2><p>通信中的波特率：指的是每秒钟传输的比特数，也就是通信速率。</p>
<p>在通信过程中，波特率是指每秒传输的比特数。如果双方的波特率不同，那么发送方和接收方之间就会出现数据传输速率不匹配的问题。</p>
<p>具体来说，如果发送方的波特率比接收方的波特率高，那么发送方发送的数据可能会比接收方能够处理的速度更快，导致数据丢失或传输错误。如果发送方的波特率比接收方的波特率低，那么接收方可能无法及时接收到所有的数据，导致数据传输效率低下或者数据丢失。</p>
<p>高波特率意味着每秒传输的比特数更多，数据传输速率更快。</p>
<p>高波特率下，由于传输速率增加，信号上升沿和下降沿变化更快，导致传输距离较低波特率要受限一些。</p>
<h2 id="ROM、RAM的概念"><a href="#ROM、RAM的概念" class="headerlink" title="ROM、RAM的概念"></a>ROM、RAM的概念</h2><p>ROM：只读存储器。优点：容量大，掉电不丢失；缺点：读取速度慢。事实上，“只读”定义不准确，如手机的8+128G。这里8指的是RAM;128指的是ROM。而这里的ROM是flash，如EMMC、UFS、NAND flash都可以进行写操作（擦除–&gt;发送要写地址或扇区–&gt;写数据）。由于历史原因，flash仍被称为ROM。</p>
<p>RAM：随机存储器。优点：速度快，直接与CPU通信；缺点：掉电丢失，容量小。</p>
<h2 id="扇区、块、页、簇的概念"><a href="#扇区、块、页、簇的概念" class="headerlink" title="扇区、块、页、簇的概念"></a>扇区、块、页、簇的概念</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/../imgs/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/image-20240513130235289.png" alt="image-20240513130235289"></p>
<p><strong>扇区：</strong>硬盘的最小寻址单元（像硬盘一样的外部存储设备的最小查找部分，即“拿硬盘”的时候，一次最少“拿”一个扇区）；<br>    <strong>块 &#x2F; 簇：</strong>由于扇区的空间比较小且数目众多，在寻址时比较困难，所以操作系统就将多个的扇区组合在一起，形成一个更大的单位，再对这个单位进行整体的操作。这个单位，在Windows下，FAT，FAT32和NTFS 文件系统中叫做簇（cluster）；在Linux下如Ext4等文件系统中叫做块（block）。每个簇或者块可以包括2、4、8、16、32、64…2的n次方个扇区。<br>页：对操作系统来说的最小基本单元。</p>
<p><strong>综上所述，文件读取时的最小单位是块。扇区是对硬盘而言，磁盘块是对文件系统而言。所以文件系统操作文件的最小单位是块，而磁盘的基本单位是扇区。</strong></p>
<p>而操作系统与内存打交道时才有了页的概念，因为如果采用内存的分页机制，内存被分为大小为4K的页面。也是一种虚拟单位。</p>
<p><strong>综上：操作系统操作内存是以页为基本单位、文件系统操作磁盘是以块为基本单位，而磁盘自身读写是以扇区为基本单位。</strong></p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/29/XJZajStb.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/29/XJZajStb.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Ten</div><div class="post-copyright__author_desc">记得给自己磕头</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/')">嵌入式面试题</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://img2.imgtp.com/2024/04/29/ZLUmR1ch.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/29/ZLUmR1ch.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://img2.imgtp.com/2024/04/29/jhBLTmH3.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/29/jhBLTmH3.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=嵌入式面试题&amp;url=http://example.com/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98/&amp;pic=https://img2.imgtp.com/2024/05/05/HCN50noR.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Ten-zzZ</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>嵌入式<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>面试<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://img2.imgtp.com/2024/05/13/dLVYfxUA.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/05/03/%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="//img2.imgtp.com/2024/05/05/5xd3Cvv5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">线程同步</div></div></a></div><div class="next-post pull-right"><a href="/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8FLinux%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9E%84%E5%BB%BA/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/03/yIu4n2xM.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">嵌入式Linux系统的构建</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2024/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8FLinux%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9E%84%E5%BB%BA/" title="嵌入式Linux系统的构建"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/03/yIu4n2xM.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-03</div><div class="title">嵌入式Linux系统的构建</div></div></a></div><div><a href="/2024/05/03/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E9%A1%B9%E7%9B%AE/" title="基于OrangePi Zero2 智能家居"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/03/77FAeLSB.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-03</div><div class="title">基于OrangePi Zero2 智能家居</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/04/29/XJZajStb.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">欢迎来到我的嵌入式学习笔记！这里是我作为一个初学者的探索记录，我们一起从零开始，一步步解开嵌入式的神秘面纱。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Ten</h1><div class="author-info__desc">记得给自己磕头</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Ten-zzZ" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/352659041" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#STM32"><span class="toc-number">1.</span> <span class="toc-text">STM32</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#I2C%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.1.</span> <span class="toc-text">I2C协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UART"><span class="toc-number">1.2.</span> <span class="toc-text">UART</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SPI"><span class="toc-number">1.3.</span> <span class="toc-text">SPI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.4.</span> <span class="toc-text">时钟系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B2%E5%8F%A3%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.5.</span> <span class="toc-text">串口配置步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8BGPIO%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.6.</span> <span class="toc-text">介绍一下GPIO模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STM32F1%E5%92%8CF4%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">1.7.</span> <span class="toc-text">STM32F1和F4的区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E7%89%87%E6%9C%BA%E4%B8%AD%E6%96%AD%E6%B5%81%E7%A8%8B"><span class="toc-number">1.8.</span> <span class="toc-text">单片机中断流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0STM32%E7%9A%84ADC%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8A%9F%E8%83%BD%E7%89%B9%E6%80%A7%EF%BC%9F"><span class="toc-number">1.9.</span> <span class="toc-text">简述STM32的ADC系统的功能特性？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DMA"><span class="toc-number">1.10.</span> <span class="toc-text">DMA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0%E4%B8%80%E4%B8%8BSTM32%E4%B8%AD%E6%96%AD%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="toc-number">1.11.</span> <span class="toc-text">简述一下STM32中断有哪些？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ARM-v7%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%8F%AF%E4%BB%A5%E5%88%86%E4%B8%BA%E5%93%AA%E5%87%A0%E4%B8%AA%E5%AD%90%E7%89%88%E6%9C%AC%EF%BC%88%E6%AC%BE%E5%BC%8F%EF%BC%89%EF%BC%8C%E5%88%86%E5%88%AB%E5%BA%94%E7%94%A8%E5%9C%A8%E4%BB%80%E4%B9%88%E9%A2%86%E5%9F%9F%EF%BC%9F"><span class="toc-number">1.11.1.</span> <span class="toc-text">ARM v7的体系结构可以分为哪几个子版本（款式），分别应用在什么领域？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%A0%E7%94%A8%E8%BF%87STM32%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9E%8B%E5%8F%B7-%E5%86%85%E9%83%A8%E8%B5%84%E6%BA%90%E6%83%85%E5%86%B5%EF%BC%9F"><span class="toc-number">1.12.</span> <span class="toc-text">你用过STM32有哪些型号?内部资源情况？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Systick%E6%BB%B4%E7%AD%94%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="toc-number">1.13.</span> <span class="toc-text">Systick滴答定时器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NVIC-%E4%B8%AD%E6%96%AD%E4%BC%98%E5%85%88%E7%BA%A7%E7%AE%A1%E7%90%86"><span class="toc-number">1.14.</span> <span class="toc-text">NVIC 中断优先级管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-IO-%E5%8F%A3%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD%E7%9A%84%E4%B8%80%E8%88%AC%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.15.</span> <span class="toc-text">使用 IO 口外部中断的一般步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.16.</span> <span class="toc-text">定时器配置步骤</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C%E8%AF%AD%E8%A8%80"><span class="toc-number">2.</span> <span class="toc-text">C语言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D"><span class="toc-number">2.1.</span> <span class="toc-text">程序的内存分配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%84%E7%B1%BB%E5%9E%8B%E5%8D%A0%E7%94%A8%E5%AD%97%E8%8A%82%E5%A4%A7%E5%B0%8F"><span class="toc-number">2.2.</span> <span class="toc-text">各类型占用字节大小</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#main%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">2.3.</span> <span class="toc-text">main函数的三个参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sizeof%E4%B8%8Estrlen"><span class="toc-number">2.4.</span> <span class="toc-text">sizeof与strlen</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">2.5.</span> <span class="toc-text">回调函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%92%8C%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.6.</span> <span class="toc-text">全局变量和局部变量的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E8%81%94%E5%90%88%E4%BD%93%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.7.</span> <span class="toc-text">结构体和联合体的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%87%BD%E6%95%B0%E5%92%8C%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.8.</span> <span class="toc-text">指针函数和函数指针的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E5%92%8C%E5%8F%98%E9%87%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.9.</span> <span class="toc-text">常量和变量的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E8%87%AA%E5%A2%9E%E8%87%AA%E5%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F%E8%87%AA%E5%A2%9E%E8%87%AA%E5%87%8F%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">2.10.</span> <span class="toc-text">指针自增自减与变量自增自减有什么区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#include-%E4%B8%8E-include-%E2%80%9D-%E2%80%9C%E5%8C%BA%E5%88%AB"><span class="toc-number">2.11.</span> <span class="toc-text">#include &lt;&gt;与#include ” “区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%B4%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84ifdef-define-endif%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">2.12.</span> <span class="toc-text">头文件中的ifdef&#x2F;define endif的作用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8-define%E5%AE%9E%E7%8E%B0%E5%AE%8F%E5%B9%B6%E6%B1%82%E6%9C%80%E5%A4%A7%E5%80%BC%E4%B8%8E%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="toc-number">2.13.</span> <span class="toc-text">用#define实现宏并求最大值与最小值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#break%E8%AF%AD%E5%8F%A5%E4%B8%8Econtinue%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.14.</span> <span class="toc-text">break语句与continue语句的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#static%E4%B8%8Econst%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.15.</span> <span class="toc-text">static与const关键字的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const%E4%B8%8E%E5%AE%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.16.</span> <span class="toc-text">const与宏的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%92%8C%E5%BC%95%E7%94%A8%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.17.</span> <span class="toc-text">指针和引用的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#strcpy%E3%80%81sprint%E5%92%8Cmemcpy%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.18.</span> <span class="toc-text">strcpy、sprint和memcpy的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9"><span class="toc-number">3.</span> <span class="toc-text">其他内容</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88CPU%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E4%BB%8E%E7%A1%AC%E7%9B%98%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%8D%B4%E8%A6%81%E5%85%88%E7%BB%8F%E8%BF%87%E5%86%85%E5%AD%98"><span class="toc-number">3.1.</span> <span class="toc-text">为什么CPU不能直接从硬盘读取数据，却要先经过内存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CPU%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84"><span class="toc-number">3.2.</span> <span class="toc-text">CPU内部结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A2%E7%89%B9%E7%8E%87%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%8C%E6%96%B9%E6%B3%A2%E7%89%B9%E7%8E%87%E8%A6%81%E7%9B%B8%E5%90%8C%EF%BC%8C%E9%AB%98%E4%BD%8E%E6%B3%A2%E7%89%B9%E7%8E%87%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">3.3.</span> <span class="toc-text">波特率是什么，为什么双方波特率要相同，高低波特率有什么区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ROM%E3%80%81RAM%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.4.</span> <span class="toc-text">ROM、RAM的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%87%E5%8C%BA%E3%80%81%E5%9D%97%E3%80%81%E9%A1%B5%E3%80%81%E7%B0%87%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.5.</span> <span class="toc-text">扇区、块、页、簇的概念</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/05/13/FreeRTOS/" title="FreeRTOS"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/13/IAYeaBKD.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FreeRTOS"/></a><div class="content"><a class="title" href="/2024/05/13/FreeRTOS/" title="FreeRTOS">FreeRTOS</a><time datetime="2024-05-13T08:06:10.000Z" title="发表于 2024-05-13 16:06:10">2024-05-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/13/ADC%E5%92%8CDMA/" title="ADC和DMA"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/13/dLVYfxUA.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ADC和DMA"/></a><div class="content"><a class="title" href="/2024/05/13/ADC%E5%92%8CDMA/" title="ADC和DMA">ADC和DMA</a><time datetime="2024-05-13T02:02:48.000Z" title="发表于 2024-05-13 10:02:48">2024-05-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/12/STM32/" title="STM32 HAL库版本"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/12/YamYeyQj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32 HAL库版本"/></a><div class="content"><a class="title" href="/2024/05/12/STM32/" title="STM32 HAL库版本">STM32 HAL库版本</a><time datetime="2024-05-12T08:57:38.000Z" title="发表于 2024-05-12 16:57:38">2024-05-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/04/Linux%E7%BA%BF%E7%A8%8B/" title="Linux线程"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/05/Bg6p4Ceu.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux线程"/></a><div class="content"><a class="title" href="/2024/05/04/Linux%E7%BA%BF%E7%A8%8B/" title="Linux线程">Linux线程</a><time datetime="2024-05-04T08:35:39.000Z" title="发表于 2024-05-04 16:35:39">2024-05-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/04/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E6%A8%A1%E6%9D%BF/" title="简单工厂模式"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img2.imgtp.com/2024/05/08/MIkSgHhh.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="简单工厂模式"/></a><div class="content"><a class="title" href="/2024/05/04/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E6%A8%A1%E6%9D%BF/" title="简单工厂模式">简单工厂模式</a><time datetime="2024-05-04T08:35:39.000Z" title="发表于 2024-05-04 16:35:39">2024-05-04</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="Ten" target="_blank">Ten</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">5</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/music/"><span> 音乐馆</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/FreeRTOS/" style="font-size: 0.88rem;">FreeRTOS<sup>1</sup></a><a href="/tags/STM32/" style="font-size: 0.88rem;">STM32<sup>2</sup></a><a href="/tags/linux/" style="font-size: 0.88rem;">linux<sup>8</sup></a><a href="/tags/%E5%8D%95%E7%89%87%E6%9C%BA/" style="font-size: 0.88rem;">单片机<sup>2</sup></a><a href="/tags/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/" style="font-size: 0.88rem;">实战项目<sup>1</sup></a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 0.88rem;">嵌入式<sup>3</sup></a><a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size: 0.88rem;">线程<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 0.88rem;">网络编程<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">设计模式<sup>1</sup></a><a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 0.88rem;">进程<sup>2</sup></a><a href="/tags/%E9%80%9A%E4%BF%A1/" style="font-size: 0.88rem;">通信<sup>1</sup></a><a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 0.88rem;">随笔<sup>2</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 0.88rem;">面试<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'default' : 'light'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.cbd.int/mermaid@10.2.4/dist/mermaid.min.js').then(runMermaid)
  }

  anzhiyu.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>